<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/favicon.png">
    <meta property="og:title" content="HydroElastic â€“ Hydrate Every Fibre">
    <meta property="og:description" content="HydroElasticâ„¢ delivers collagen, hyaluronic acid & smart electrolytes so your fascia behaves like a freshly soaked sponge â€” flexible, gliding, painâ€‘free.">
    <meta property="og:image" content="https://stefanandes.github.io/mac-labs/assets/og.png">
    <meta property="og:url" content="https://stefanandes.github.io/mac-labs/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="HydroElastic â€“ Hydrate Every Fibre">
    <meta name="twitter:description" content="HydroElasticâ„¢ delivers collagen, hyaluronic acid & smart electrolytes so your fascia behaves like a freshly soaked sponge â€” flexible, gliding, painâ€‘free.">
    <meta name="twitter:image" content="https://stefanandes.github.io/mac-labs/assets/og.png">
    <title>MAC Labs â€¢ HydroElasticâ„¢</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <div class="logo"><img src="assets/logo.png" alt="MAC Labs logo"></div>
      <nav>
        <a href="#how">How It Works</a>
        <a href="#plans">Plans</a>
        <a href="#faq">FAQ</a>
        <a href="partners.html">Affiliates</a>
        <a href="#plans" class="nav-cta">Get Started</a>
      </nav>
      <button class="mobile-menu-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div>
      <h1>Hydrate Every Fibre.<br/>Move Like New.</h1>
      <p>HydroElasticâ„¢ delivers collagen, hyaluronic acid & smart electrolytes so your fascia behaves like a freshly soaked sponge â€” flexible, gliding, painâ€‘free.</p>
      <a href="https://buy.stripe.com/sampler" class="cta-btn" data-product="sampler">Start Free 7â€‘Stick Trial</a>
    </div>
    <a href="product.html">
      <img src="product picture.png" alt="HydroElastic sachet" />
    </a>
  </section>

  <!-- Sponge infographic -->
  <section class="video-section" id="how">
    <div class="video-container">
      <h2>Why the Sponge Metaphor Matters</h2>
      <div class="video-wrapper">
        <video 
          class="auto-video"
          muted 
          loop
          playsinline
          poster="assets/video_thumbnail.jpg">
          <source src="assets/explainer_video.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <p class="video-description">
        Stretch or roll your fascia to <strong style="color:var(--teal)">squeeze waste fluid out</strong>. 
        Release pressure and sip HydroElastic: <strong style="color:var(--teal)">fresh water + nutrients rush back in</strong>, 
        leaving tissue elastic and energized.
      </p>
    </div>
  </section>

  <!-- Video Section -->
  <section class="video-section">
    <div class="video-container">
      <h2>Experience the Science in Motion</h2>
      <div class="video-wrapper">
        <video 
          class="auto-video"
          muted 
          loop
          playsinline
          poster="assets/video_thumbnail.jpg">
          <source src="assets/video_generation.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <p class="video-description">
        Watch how HydroElasticâ„¢ revolutionizes hydration delivery, supporting your fascia's natural elasticity and promoting optimal tissue health.
      </p>
    </div>
  </section>

  <style>
    .video-section {
      background: #ffffff;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
    }
    .video-section:nth-child(odd) {
      background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
    }
    .video-section:nth-child(even) {
      background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%);
    }
    .video-container {
      width: 100%;
      max-width: 1000px;
      padding: 2rem;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .video-container h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--teal);
    }
    .video-wrapper {
      position: relative;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 30px 60px -20px rgba(0,128,128,0.3);
      margin: 2.5rem 0;
      background: #000;
      aspect-ratio: 16/9;
      width: 100%;
      max-width: 800px;
      transform: translateY(30px);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .video-wrapper.visible {
      transform: translateY(0);
      opacity: 1;
    }
    .video-wrapper video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .video-description {
      text-align: center;
      max-width: 700px;
      margin: 2rem auto 0;
      font-size: 1.2rem;
      line-height: 1.7;
      color: var(--charcoal);
      opacity: 0.85;
    }
    @media (max-width: 768px) {
      .video-section {
        min-height: 100vh;
        padding: 0;
      }
      .video-container {
        padding: 2rem 1rem;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 95%;
      }
      .video-container h2 {
        font-size: 1.75rem;
      }
      .video-wrapper {
        margin: 1.5rem 0;
        border-radius: 12px;
      }
      .video-description {
        font-size: 1rem;
      }
    }
  </style>

  <!-- Overlay for mobile menu -->
  <div class="overlay"></div>

  <script>
    // Mobile menu functionality
    const menuToggle = document.querySelector('.mobile-menu-toggle');
    const nav = document.querySelector('nav');
    const overlay = document.querySelector('.overlay');
    const header = document.querySelector('header');

    function toggleMenu() {
      menuToggle.classList.toggle('active');
      nav.classList.toggle('active');
      overlay.classList.toggle('active');
      header.classList.toggle('menu-open');
      document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';
    }

    menuToggle.addEventListener('click', toggleMenu);
    overlay.addEventListener('click', toggleMenu);

    // Close menu when clicking a link
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', () => {
        if (nav.classList.contains('active')) {
          toggleMenu();
        }
      });
    });

    // Enhanced video autoplay functionality
    function initializeVideoAutoplay() {
      const videos = document.querySelectorAll('.auto-video');
      
      // Function to play video with retry logic
      function attemptVideoPlay(video) {
        const wrapper = video.closest('.video-wrapper');
        
        // Ensure video is ready
        if (video.readyState < 3) {
          video.addEventListener('canplay', () => attemptVideoPlay(video), { once: true });
          return;
        }
        
        wrapper.classList.add('visible');
        
        // Force attributes for autoplay
        video.muted = true;
        video.loop = true;
        video.playsInline = true;
        video.setAttribute('muted', 'muted');
        video.setAttribute('playsinline', 'playsinline');
        video.defaultMuted = true;
        
        // Try multiple play attempts
        const playVideo = () => {
          video.play()
            .then(() => {
              console.log('Video playing successfully');
              video.dataset.playing = 'true';
            })
            .catch((error) => {
              console.log('Play attempt failed:', error);
              // Try again after a short delay
              setTimeout(() => {
                if (video.dataset.playing !== 'true') {
                  video.play().catch(() => {});
                }
              }, 100);
            });
        };
        
        playVideo();
      }
      
      // Create intersection observer with better settings
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const video = entry.target;
          
          if (entry.isIntersecting && entry.intersectionRatio > 0.1) {
            // Reset playing state
            video.dataset.playing = 'false';
            attemptVideoPlay(video);
          } else {
            video.pause();
            video.dataset.playing = 'false';
          }
        });
      }, {
        threshold: [0.1, 0.5, 1.0],
        rootMargin: '50px 0px'
      });
      
      // Initialize each video
      videos.forEach((video, index) => {
        // Force all necessary attributes
        video.muted = true;
        video.loop = true;
        video.playsInline = true;
        video.setAttribute('muted', 'muted');
        video.setAttribute('playsinline', 'playsinline');
        video.defaultMuted = true;
        
        // Load video to prepare for playback
        video.load();
        
        // Start observing
        observer.observe(video);
        
        // Check initial visibility
        setTimeout(() => {
          const rect = video.getBoundingClientRect();
          const isInView = rect.top < window.innerHeight && rect.bottom > 0;
          
          if (isInView) {
            attemptVideoPlay(video);
          }
        }, 100 * (index + 1)); // Stagger initialization
        
        // Fallback: try to play on various events
        ['loadedmetadata', 'loadeddata', 'canplay'].forEach(event => {
          video.addEventListener(event, () => {
            const rect = video.getBoundingClientRect();
            const isInView = rect.top < window.innerHeight && rect.bottom > 0;
            if (isInView && video.paused && video.dataset.playing !== 'true') {
              attemptVideoPlay(video);
            }
          });
        });
      });
      
      // Global click handler for autoplay recovery
      let clickHandlerAdded = false;
      if (!clickHandlerAdded) {
        document.addEventListener('click', () => {
          videos.forEach(video => {
            const rect = video.getBoundingClientRect();
            const isInView = rect.top < window.innerHeight && rect.bottom > 0;
            if (isInView && video.paused) {
              video.play().catch(() => {});
            }
          });
        }, { once: true });
        clickHandlerAdded = true;
      }
    }
    
    // Initialize immediately
    initializeVideoAutoplay();
    
    // Reinitialize after DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeVideoAutoplay);
    }
    
    // Reinitialize on page visibility
    document.addEventListener('visibilitychange', () => {
      if (!document.hidden) {
        setTimeout(initializeVideoAutoplay, 100);
      }
    });
    
    // Reinitialize on scroll (debounced)
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        document.querySelectorAll('.auto-video').forEach(video => {
          const rect = video.getBoundingClientRect();
          const isInView = rect.top < window.innerHeight && rect.bottom > 0;
          if (isInView && video.paused && video.dataset.playing !== 'true') {
            video.play().catch(() => {});
          }
        });
      }, 150);
    });
  </script>

  <!-- Benefits -->
  <section class="section">
    <h2>3â€‘inâ€‘1 Scienceâ€‘Backed Benefits</h2>
          <div class="benefits-grid">
        <div class="benefit"><img src="assets/icons/icon_droplet.png" alt="Hydration icon" width="64" height="64" loading="lazy"><h3>Optimal Hydration</h3><p>150 mg hyaluronic acid + electrolytes pull water deep into the extracellular matrix.</p></div>
        <div class="benefit"><img src="assets/icons/icon_molecule.png" alt="Fascia icon" width="64" height="64" loading="lazy"><h3>Fascial Support</h3><p>5 g collagen peptides & MSM rebuild flexible collagen fibres.</p></div>
        <div class="benefit"><img src="assets/icons/icon_lab.png" alt="Lab icon" width="64" height="64" loading="lazy"><h3>Clinically Tested</h3><p>Ingredients & doses validated in human trials for joint comfort & skin elasticity.</p></div>
      </div>
  </section>

  <!-- 90â€‘Day protocol section -->
  <section class="section" style="background:#f8fffc;">
    <h2>The 90â€‘Day Hydration Protocol</h2>
    <ol style="max-width:720px;margin:2rem auto;font-size:1.1rem;line-height:1.6;">
      <li><strong>Day 1â€“7  Squeeze & Sip</strong> â€” follow our <a href="course/">free video tutorials</a>, feel first glide improvements.</li>
      <li><strong>Day 8â€‘30  Collagen Loading</strong> â€” fibres start rebuilding, stiffness fades.</li>
      <li><strong>Day 31â€‘90  Elastic Upgrade</strong> â€” fascia holds hydration, skin glow & joint range improve.</li>
    </ol>
    <p style="text-align:center;margin-top:1.25rem;">Stick with itâ€”science shows collagen & HA shine after 8â€“12 weeks.</p>
    <div style="text-align:center;margin-top:2rem;">
      <a href="course/" class="cta-btn">Start 7-Day Video Course â†’</a>
    </div>
  </section>

  <!-- Plans & pricing -->
  <section class="section" id="plans">
    <h2>Pick Your Starter Plan</h2>
    <div class="plan-grid" style="margin-top:2rem;">
      <div class="price-box">
        <h3>7â€‘Stick Sampler</h3>
        <div class="price">FREE<small> + $4.95 S&H</small></div>
        <p style="margin:1rem 0 1.5rem;">Taste it, feel it for a week.</p>
        <a href="https://buy.stripe.com/sampler" class="cta-btn" style="display:inline-block;" data-product="sampler">Claim Sampler</a>
      </div>
      <div class="price-box" style="border-color:var(--charcoal);">
        <h3>90â€‘Day Core Protocol</h3>
        <div class="price">$89.85</div>
        <p style="margin:1rem 0 1.5rem;">3 pouches prepaid (30 sticks each) â€” free shaker bottle.</p>
        <a href="https://buy.stripe.com/core-protocol" class="cta-btn" style="display:inline-block;" data-product="core">Start Core</a>
        <a href="product.html" style="display: block; margin-top: 1rem; font-size: 0.9rem;">View Details</a>
      </div>
      <div class="price-box">
        <h3>6â€‘Month Momentum</h3>
        <div class="price">$167.70</div>
        <p style="margin:1rem 0 1.5rem;">Extra savings + priority support.</p>
        <a href="https://buy.stripe.com/momentum-6mo" class="cta-btn" style="display:inline-block;" data-product="momentum">Go Momentum</a>
      </div>
    </div>
  </section>

  <!-- Social proof -->
  <section class="section" style="background:#fafafa;">
    <h2>Real Users, Real Flexibility</h2>
    <blockquote style="max-width:800px;margin:2rem auto;font-style:italic;font-size:1.2rem;">"I sit all day coding. After 4 weeks on HydroElastic and the 2â€‘minute stretches, my hamstrings finally let me touch my toes again ðŸ™Œ" <br>â€” Chris M., Toronto</blockquote>
  </section>

  <!-- FAQ -->
  <section class="section" id="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq">
      <details><summary>Is HydroElastic safe?</summary><p>All ingredients are GRAS or Health Canadaâ€‘approved at the listed doses and every batch is thirdâ€‘party tested.</p></details>
      <details><summary>When will I feel results?</summary><p>Early users feel smoother movement within 1â€“2 weeks, with best collagen/HA effects showing by week 8.</p></details>
      <details><summary>Can I cancel after 3 months?</summary><p>Yesâ€”your Core Protocol is prepaid. After 90 days you can switch to monthly, pause, or cancel anytime, hassleâ€‘free.</p></details>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 MAC Labs â€¢ Scienceâ€‘backed, transparencyâ€‘first supplements</p>
    <p><a href="terms.html">Terms</a> â€¢ <a href="privacy.html">Privacy</a> â€¢ <a href="partners.html">Affiliates</a> â€¢ <a href="mailto:support@maclabs.com">support@maclabs.com</a></p>
  </footer>

  <!-- Foam Roller Upsell -->
  <script>
    // Check for sampler checkout success
    if (new URLSearchParams(window.location.search).get('sampler') === 'true') {
      setTimeout(() => {
        if (confirm('ðŸŽ¯ Special Offer! Add our travel foam-roller for just CA$14.95? Perfect companion for your HydroElastic routine!')) {
          window.location.href = 'https://buy.stripe.com/sampler-roller-bundle';
        }
      }, 3000);
    }
  </script>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>

  <!-- Affiliate Tracking (Refersion) -->
  <script src="https://www.refersion.com/tracker/v3/pub_XXXXX.js"></script>

  <!-- Cookie Consent -->
  <div id="cookie-banner" style="position:fixed;bottom:0;left:0;right:0;background:#273038;color:white;padding:1rem;display:none;z-index:1000;">
    <div style="max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;">
      <p style="margin:0;">We use cookies to improve your experience. By continuing, you agree to our use of cookies.</p>
      <button onclick="acceptCookies()" style="background:var(--teal);color:white;border:none;padding:0.5rem 1.5rem;border-radius:4px;cursor:pointer;">Got it</button>
    </div>
  </div>
  <script>
    // Cookie consent logic
    if (!localStorage.getItem('cookiesAccepted')) {
      document.getElementById('cookie-banner').style.display = 'block';
    }
    function acceptCookies() {
      localStorage.setItem('cookiesAccepted', 'true');
      document.getElementById('cookie-banner').style.display = 'none';
    }
  </script>

</body>
</html> 